{% load static %}

<nav class="navbar navbar-expand regulate-navbar"
     aria-label="Main navigation">

    <div class="container d-flex align-items-center">

        <!-- Left: Logo / Home -->
        <a class="navbar-brand d-flex align-items-center"
           href="{% url 'home' %}"
           aria-label="Go to Regulate home page">

            <img src="{% static 'images/bug-logo.png' %}"
                 alt="Regulate Logo"
                 class="nav-logo">
        </a>

        <!-- Middle: App name -->
        <div class="flex-grow-1 regulate-navbar-logo">
            <span class="nav-title">Regulate.</span>
        </div>

        <!-- Right: Account / Auth buttons -->
        <div class="d-flex align-items-center">

            {% if user.is_authenticated %}

            <div class="dropdown">
                <button class="btn dropdown-toggle regulate-btn"
                        type="button"
                        id="profileDropdown"
                        data-bs-toggle="dropdown"
                        aria-expanded="false">
                    My Account
                </button>

                <ul class="dropdown-menu dropdown-menu-end regulate-dropdown"
                    aria-labelledby="profileDropdown">

                    <li>
                        <a class="dropdown-item"
                           href="{% url 'new_entry' %}">
                            New Entry
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <li>
                        <a class="dropdown-item"
                           href="{% url 'dashboard' %}">
                            My Dashboard
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <li>
                        <a class="dropdown-item"
                           href="{% url 'regulate_plus' %}">
                            Regulate+
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <li>
                        <a class="dropdown-item"
                           href="{% url 'profile' %}">
                            My Profile
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <li>
                        <form method="post"
                              action="{% url 'account_logout' %}"
                              class="px-3 py-2">
                            {% csrf_token %}
                            <button type="submit"
                                    class="btn btn-danger w-100 regulate-logout-btn">
                                Logout
                            </button>
                        </form>
                    </li>

                </ul>
            </div>

            {% else %}

            <a class="btn regulate-btn me-2"
               href="{% url 'account_login' %}">
                Sign In
            </a>

            <a class="btn regulate-btn"
               href="{% url 'account_signup' %}">
                Sign Up
            </a>

            {% endif %}

        </div>
    </div>
</nav>

